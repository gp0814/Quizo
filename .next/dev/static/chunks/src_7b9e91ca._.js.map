{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gaurav/Desktop/Quizo/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline' | 'danger' | 'ghost';\r\n    size?: 'sm' | 'md' | 'lg';\r\n    isLoading?: boolean;\r\n}\r\n\r\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = 'primary', size = 'md', isLoading, children, ...props }, ref) => {\r\n\r\n        const sizeStyles = {\r\n            sm: \"px-3 py-1.5 text-sm\",\r\n            md: \"px-5 py-2.5 text-base\",\r\n            lg: \"px-7 py-3.5 text-lg\"\r\n        };\r\n\r\n        const variants = {\r\n            primary: \"bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:shadow-lg hover:shadow-blue-500/30 hover:-translate-y-0.5 border-transparent\",\r\n            secondary: \"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 hover:shadow-md\",\r\n            outline: \"bg-transparent border-2 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-blue-500 hover:text-blue-500 dark:hover:text-blue-400\",\r\n            danger: \"bg-gradient-to-r from-red-500 to-rose-600 text-white hover:shadow-lg hover:shadow-red-500/30\",\r\n            ghost: \"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800\"\r\n        };\r\n\r\n        return (\r\n            <button\r\n                ref={ref}\r\n                className={twMerge(\r\n                    \"relative inline-flex items-center justify-center rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-60 disabled:pointer-events-none active:scale-[0.98]\",\r\n                    sizeStyles[size],\r\n                    variants[variant],\r\n                    className\r\n                )}\r\n                disabled={isLoading || props.disabled}\r\n                {...props}\r\n            >\r\n                {isLoading && (\r\n                    <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-current\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                    </svg>\r\n                )}\r\n                {children}\r\n            </button>\r\n        );\r\n    }\r\n);\r\nButton.displayName = \"Button\";\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAQO,MAAM,uBAAS,wKAAK,CAAC,UAAU,MAClC,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAE7E,MAAM,aAAa;QACf,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,MAAM,WAAW;QACb,SAAS;QACT,WAAW;QACX,SAAS;QACT,QAAQ;QACR,OAAO;IACX;IAEA,qBACI,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,yKAAO,EACd,kOACA,UAAU,CAAC,KAAK,EAChB,QAAQ,CAAC,QAAQ,EACjB;QAEJ,UAAU,aAAa,MAAM,QAAQ;QACpC,GAAG,KAAK;;YAER,2BACG,6LAAC;gBAAI,WAAU;gBAA+C,OAAM;gBAA6B,MAAK;gBAAO,SAAQ;;kCACjH,6LAAC;wBAAO,WAAU;wBAAa,IAAG;wBAAK,IAAG;wBAAK,GAAE;wBAAK,QAAO;wBAAe,aAAY;;;;;;kCACxF,6LAAC;wBAAK,WAAU;wBAAa,MAAK;wBAAe,GAAE;;;;;;;;;;;;YAG1D;;;;;;;AAGb;;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Gaurav/Desktop/Quizo/src/app/student/test/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef, use } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@/components/ui/Button';\r\nimport axios from 'axios';\r\nimport { AlertTriangle, Expand, Camera, Clock } from 'lucide-react';\r\n\r\nexport default function TestPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const { id } = use(params);\r\n    const router = useRouter();\r\n    const [loading, setLoading] = useState(true);\r\n    const [test, setTest] = useState<any>(null);\r\n    const [started, setStarted] = useState(false);\r\n\r\n    const [startError, setStartError] = useState<string | null>(null);\r\n\r\n    // Proctoring State\r\n    const [warnings, setWarnings] = useState(0);\r\n    const [isFullscreen, setIsFullscreen] = useState(false);\r\n    const [violation, setViolation] = useState<string | null>(null);\r\n\r\n    // Exam State\r\n    const [timeLeft, setTimeLeft] = useState(0); // seconds\r\n    const [answers, setAnswers] = useState<{ [key: string]: string }>({}); // questionId -> option\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const streamRef = useRef<MediaStream | null>(null);\r\n    const isSubmitting = useRef(false);\r\n\r\n    useEffect(() => {\r\n        fetchTestDetails();\r\n    }, []);\r\n\r\n    // Effect to attach video stream when test starts and video element is mounted\r\n    useEffect(() => {\r\n        if (started && streamRef.current && videoRef.current) {\r\n            videoRef.current.srcObject = streamRef.current;\r\n            videoRef.current.play().catch(e => console.error(\"Video play failed:\", e));\r\n        }\r\n    }, [started]);\r\n\r\n    useEffect(() => {\r\n        if (!started) return;\r\n\r\n        // Timer\r\n        const timer = setInterval(() => {\r\n            setTimeLeft(prev => {\r\n                if (prev <= 1) {\r\n                    submitTest();\r\n                    return 0;\r\n                }\r\n                return prev - 1;\r\n            });\r\n        }, 1000);\r\n\r\n        // Tab Switch Detection\r\n        const handleVisibilityChange = () => {\r\n            if (document.hidden) {\r\n                handleViolation(\"Tab switching detected!\");\r\n            }\r\n        };\r\n\r\n        // Fullscreen Check\r\n        const handleFullscreenChange = () => {\r\n            if (!document.fullscreenElement && !loading && started) {\r\n                // only warn if test is active and not submitted\r\n                setIsFullscreen(false);\r\n                handleViolation(\"Exited fullscreen mode!\");\r\n            } else {\r\n                setIsFullscreen(true);\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\r\n        document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n\r\n        return () => {\r\n            clearInterval(timer);\r\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\r\n            document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n        };\r\n    }, [started]);\r\n\r\n    const fetchTestDetails = async () => {\r\n        try {\r\n            const res = await axios.get(`/api/tests/${id}/start`);\r\n            setTest(res.data.test);\r\n            setTimeLeft(res.data.test.duration * 60);\r\n        } catch (err: any) {\r\n            if (err.response?.status === 403) {\r\n                // Show professional error message instead of alert\r\n                setStartError(err.response.data.error || 'Access Denied');\r\n            } else {\r\n                console.error(err);\r\n                alert('Failed to load test');\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const startTest = async () => {\r\n        try {\r\n            if (test.settings.requireCamera) {\r\n                try {\r\n                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n                    streamRef.current = stream; // Store stream for later use\r\n                } catch (e) {\r\n                    alert('Camera permission is required to start this test.');\r\n                    return;\r\n                }\r\n            }\r\n\r\n            try {\r\n                await document.documentElement.requestFullscreen();\r\n            } catch (err) {\r\n                console.log(\"Fullscreen request failed\", err);\r\n            }\r\n\r\n            setStarted(true);\r\n        } catch (e) {\r\n            alert('Failed to start test.');\r\n        }\r\n    };\r\n\r\n    const submitTest = async () => {\r\n        if (isSubmitting.current) return;\r\n        isSubmitting.current = true;\r\n\r\n        // Stop streams\r\n        if (streamRef.current) {\r\n            streamRef.current.getTracks().forEach(t => t.stop());\r\n        }\r\n        if (videoRef.current && videoRef.current.srcObject) {\r\n            const tracks = (videoRef.current.srcObject as MediaStream).getTracks();\r\n            tracks.forEach(t => t.stop());\r\n        }\r\n\r\n        try {\r\n            // Format answers\r\n            const answersArray = Object.entries(answers).map(([key, value]) => ({\r\n                questionId: key,\r\n                value\r\n            }));\r\n\r\n            setStarted(false); // Stop monitoring immediately \r\n\r\n            await axios.post(`/api/tests/${id}/submit`, { answers: answersArray });\r\n\r\n            // Explicitly exit fullscreen\r\n            if (document.fullscreenElement) {\r\n                await document.exitFullscreen().catch(err => console.log(\"Exit fullscreen failed\", err));\r\n            }\r\n\r\n            router.push('/student/dashboard');\r\n            alert('Test Submitted Successfully!');\r\n        } catch (err) {\r\n            isSubmitting.current = false;\r\n            alert('Failed to submit, trying again...');\r\n        }\r\n    };\r\n\r\n    const handleViolation = (reason: string) => {\r\n        setWarnings(prev => {\r\n            const newCount = prev + 1;\r\n            if (newCount >= 3) {\r\n                alert(`Test Auto-Submitted due to multiple violations: ${reason}`);\r\n                submitTest();\r\n            } else {\r\n                // Show modal which requires user click to dismiss\r\n                setViolation(reason);\r\n            }\r\n            return newCount;\r\n        });\r\n    };\r\n\r\n    const handleManualSubmit = () => {\r\n        const missing = test.questions.reduce((acc: number[], q: any, idx: number) => {\r\n            if (q.isCompulsory && !answers[q._id]) {\r\n                acc.push(idx + 1);\r\n            }\r\n            return acc;\r\n        }, []);\r\n\r\n        if (missing.length > 0) {\r\n            alert(`You must answer the following compulsory questions before submitting: ${missing.join(', ')}`);\r\n            return;\r\n        }\r\n\r\n        if (confirm('Are you sure you want to finish the test?')) {\r\n            submitTest();\r\n        }\r\n    };\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const m = Math.floor(seconds / 60);\r\n        const s = seconds % 60;\r\n        return `${m}:${s < 10 ? '0' : ''}${s}`;\r\n    };\r\n\r\n    if (loading) return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>;\r\n\r\n    if (startError) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950 p-6\">\r\n                <div className=\"bg-white dark:bg-gray-900 max-w-md w-full p-8 rounded-3xl shadow-xl text-center space-y-6 border border-red-100 dark:border-red-900/30\">\r\n                    <div className=\"w-20 h-20 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-full flex items-center justify-center mx-auto\">\r\n                        <Clock size={40} />\r\n                    </div>\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">Access Denied</h2>\r\n                        <p className=\"text-gray-500 dark:text-gray-400 font-medium\">\r\n                            {startError}\r\n                        </p>\r\n                    </div>\r\n                    <Button onClick={() => router.push('/student/dashboard')} className=\"w-full\">\r\n                        Return to Dashboard\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!test) return <div>Test not found</div>;\r\n\r\n    // View 1: Instructions\r\n    if (!started) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950 flex items-center justify-center p-6\">\r\n                <div className=\"bg-white dark:bg-gray-900 max-w-2xl w-full rounded-3xl p-8 shadow-2xl space-y-8 text-center border overflow-hidden relative\">\r\n                    <div className=\"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500\" />\r\n\r\n                    <div className=\"space-y-4\">\r\n                        <h1 className=\"text-3xl font-bold\">{test.title}</h1>\r\n                        <p className=\"text-gray-500\">{test.department} | {test.semester} Sem</p>\r\n                        <div className=\"inline-flex gap-4 bg-gray-100 dark:bg-gray-800 p-3 rounded-xl text-sm font-medium\">\r\n                            <span className=\"flex items-center gap-2\"><Clock size={16} /> {test.duration} mins</span>\r\n                            <span className=\"flex items-center gap-2\"><Camera size={16} /> {test.settings.requireCamera ? 'Camera On' : 'No Camera'}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-left bg-blue-50 dark:bg-blue-900/20 p-6 rounded-2xl border border-blue-100 dark:border-blue-800\">\r\n                        <h3 className=\"font-bold text-blue-800 dark:text-blue-300 mb-3 flex items-center gap-2\">\r\n                            <AlertTriangle size={18} /> Important Rules\r\n                        </h3>\r\n                        <ul className=\"list-disc list-inside space-y-2 text-sm text-blue-900 dark:text-blue-200\">\r\n                            <li>The test will be in <strong>Fullscreen Mode</strong>. Exiting it will trigger a warning.</li>\r\n                            <li><strong>Tab Switching</strong> is monitored. 3 warnings triggers Auto Submit.</li>\r\n                            {test.settings.requireCamera && <li><strong>Camera</strong> must be active throughout the session.</li>}\r\n                            <li>Do not reload the page.</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <Button onClick={startTest} className=\"w-full h-14 text-lg shadow-xl shadow-blue-500/30\">\r\n                        I Agree & Start Test\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // View 2: Active Test\r\n    return (\r\n        <div className=\"min-h-screen flex flex-col bg-white dark:bg-gray-900\">\r\n            {/* Top Bar */}\r\n            <div className=\"h-16 border-b flex items-center justify-between px-6 bg-gray-900 text-white sticky top-0 z-50\">\r\n                <div className=\"font-bold text-lg\">{test.title}</div>\r\n                <div className={`p-2 rounded-lg font-mono text-xl font-bold tracking-widest ${timeLeft < 60 ? 'bg-red-600 animate-pulse' : 'bg-gray-800'}`}>\r\n                    {formatTime(timeLeft)}\r\n                </div>\r\n                <Button variant=\"danger\" className=\"text-sm py-2 px-3\" onClick={handleManualSubmit}>\r\n                    Finish Test\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"flex flex-1 overflow-hidden relative\">\r\n                {/* Main Content */}\r\n                <div className=\"flex-1 overflow-y-auto p-8 pb-32\">\r\n                    <div className=\"max-w-4xl mx-auto space-y-12\">\r\n                        {test.questions.map((q: any, idx: number) => (\r\n                            <div key={q._id} className=\"space-y-4\">\r\n                                <h3 className=\"text-xl font-medium flex gap-3\">\r\n                                    <span className=\"text-gray-400 font-bold\">{idx + 1}.</span>\r\n                                    {q.questionText}\r\n                                </h3>\r\n                                <div className=\"space-y-3 pl-8\">\r\n                                    {q.options.map((opt: string, oIdx: number) => (\r\n                                        <label key={oIdx} className={`block p-4 rounded-xl border-2 cursor-pointer transition-all ${answers[q._id] === opt\r\n                                            ? 'border-blue-600 bg-blue-50 dark:bg-blue-900/20'\r\n                                            : 'border-gray-100 hover:border-gray-200 dark:border-gray-800'\r\n                                            }`}>\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                name={`q-${idx}`}\r\n                                                className=\"hidden\"\r\n                                                checked={answers[q._id] === opt}\r\n                                                onChange={() => setAnswers({ ...answers, [q._id]: opt })}\r\n                                            />\r\n                                            <span className=\"font-medium\">{opt}</span>\r\n                                        </label>\r\n                                    ))}\r\n                                </div>\r\n                                {answers[q._id] && (\r\n                                    <div className=\"pl-8 pt-1\">\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                const newAns = { ...answers };\r\n                                                delete newAns[q._id];\r\n                                                setAnswers(newAns);\r\n                                            }}\r\n                                            className=\"text-xs font-medium text-gray-400 hover:text-red-500 transition-colors flex items-center gap-1\"\r\n                                        >\r\n                                            <span className=\"w-1.5 h-1.5 rounded-full bg-current\" /> Clear Selection\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Sidebar / Proctor Overlay */}\r\n                <div className=\"w-64 bg-gray-100 dark:bg-gray-900 border-l p-4 flex flex-col gap-4\">\r\n                    {test.settings.requireCamera && (\r\n                        <div className=\"aspect-video bg-black rounded-xl overflow-hidden shadow-lg border-2 border-red-500 relative\">\r\n                            <video\r\n                                ref={videoRef}\r\n                                autoPlay\r\n                                muted\r\n                                playsInline\r\n                                className=\"w-full h-full object-cover\"\r\n                                onLoadedMetadata={() => videoRef.current?.play()}\r\n                            />\r\n                            <div className=\"absolute top-2 left-2 flex items-center gap-1 bg-red-600 text-white text-[10px] px-2 py-0.5 rounded-full animate-pulse\">\r\n                                <div className=\"w-2 h-2 rounded-full bg-white\" /> LIVE\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm\">\r\n                        <div className=\"text-xs text-gray-500 uppercase font-bold mb-2\">Proctor Status</div>\r\n                        <div className=\"flex items-center gap-2 text-green-600 font-medium text-sm\">\r\n                            <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" /> Monitoring Active\r\n                        </div>\r\n                        <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700\">\r\n                            <div className=\"text-xs text-gray-500 mb-1\">Warnings</div>\r\n                            <div className=\"flex gap-1\">\r\n                                {[1, 2, 3].map(i => (\r\n                                    <div key={i} className={`h-2 flex-1 rounded-full ${i <= warnings ? 'bg-red-500' : 'bg-gray-200'}`} />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* Violation Modal */}\r\n                {violation && (\r\n                    <div className=\"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-6\">\r\n                        <div className=\"bg-white dark:bg-gray-900 max-w-md w-full p-8 rounded-3xl shadow-2xl text-center space-y-6 animate-shake\">\r\n                            <div className=\"w-20 h-20 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-full flex items-center justify-center mx-auto\">\r\n                                <AlertTriangle size={40} />\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">Test Warning</h2>\r\n                                <p className=\"text-gray-500 dark:text-gray-400 font-medium\">\r\n                                    Violation Detected: <span className=\"text-red-600 font-bold\">{violation}</span>\r\n                                </p>\r\n                                <p className=\"text-sm text-gray-400 mt-2\">\r\n                                    Warning {warnings}/3. Return to fullscreen immediately to continue.\r\n                                </p>\r\n                            </div>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    document.documentElement.requestFullscreen().catch(e => console.error(e));\r\n                                    setViolation(null);\r\n                                }}\r\n                                className=\"w-full h-12 text-lg\"\r\n                            >\r\n                                Return to Test\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}